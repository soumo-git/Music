<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/backgroundColor"
    android:fillViewport="true">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="16dp">

        <!-- Header -->
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Download Engine"
            android:textSize="16sp"
            android:textStyle="bold"
            android:textColor="@color/textPrimary" />

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="4dp"
            android:text="Manage the download engine used for extracting and downloading content"
            android:textSize="12sp"
            android:textColor="@color/textSecondary" />

        <!-- Engine Status Card -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="24dp"
            app:cardBackgroundColor="@color/cardBackground"
            app:cardCornerRadius="12dp"
            app:cardElevation="2dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <!-- Engine Name and Status -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">

                    <ImageView
                        android:id="@+id/ivStatusIcon"
                        android:layout_width="24dp"
                        android:layout_height="24dp"
                        android:src="@android:drawable/presence_offline"
                        tools:ignore="ContentDescription" />

                    <TextView
                        android:id="@+id/tvEngineName"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:layout_marginStart="12dp"
                        android:text="yt-dlp"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:textColor="@color/textPrimary" />

                    <TextView
                        android:id="@+id/tvStatus"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Not installed"
                        android:textSize="10sp"
                        android:textColor="@color/textSecondary" />
                </LinearLayout>

                <!-- Version Info -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="12dp"
                    android:orientation="vertical">

                    <TextView
                        android:id="@+id/tvInstalledVersion"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Installed: Not installed"
                        android:textSize="10sp"
                        android:textColor="@color/textSecondary" />

                    <TextView
                        android:id="@+id/tvLatestVersion"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="4dp"
                        android:text="Latest: Unknown"
                        android:textSize="14sp"
                        android:textColor="@color/textSecondary"
                        android:visibility="gone" />

                    <TextView
                        android:id="@+id/tvLastChecked"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="4dp"
                        android:text="Last checked: Never"
                        android:textSize="12sp"
                        android:textColor="@color/textTertiary"
                        android:visibility="gone" />
                </LinearLayout>

                <!-- Update Warning -->
                <LinearLayout
                    android:id="@+id/updateWarning"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="12dp"
                    android:background="@drawable/bg_warning"
                    android:orientation="horizontal"
                    android:padding="12dp"
                    android:visibility="visible">

                    <ImageView
                        android:layout_width="20dp"
                        android:layout_height="20dp"
                        android:src="@android:drawable/ic_dialog_alert"
                        app:tint="@android:color/holo_orange_dark"
                        tools:ignore="ContentDescription" />

                    <TextView
                        android:id="@+id/tvUpdateWarning"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:layout_marginStart="8dp"
                        android:text="Download engine required to extract and download content."
                        android:textSize="10sp"
                        android:textColor="@android:color/holo_orange_dark" />
                </LinearLayout>

                <!-- Progress -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="16dp"
                    android:orientation="vertical">

                    <ProgressBar
                        android:id="@+id/progressBar"
                        style="@style/Widget.AppCompat.ProgressBar.Horizontal"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:max="100"
                        android:progress="0"
                        android:visibility="gone"
                        tools:visibility="visible" />

                    <TextView
                        android:id="@+id/tvProgress"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_gravity="end"
                        android:layout_marginTop="4dp"
                        android:text="0%"
                        android:textSize="12sp"
                        android:textColor="@color/textSecondary"
                        android:visibility="gone" />
                </LinearLayout>

                <!-- Action Buttons -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="16dp"
                    android:orientation="horizontal">

                    <com.google.android.material.button.MaterialButton
                        android:id="@+id/btnUpdate"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Install Engine"
                        android:backgroundTint="@color/colorAccent"
                        app:cornerRadius="8dp" />

                    <com.google.android.material.button.MaterialButton
                        android:id="@+id/btnCheckUpdates"
                        style="@style/Widget.MaterialComponents.Button.OutlinedButton"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_marginStart="8dp"
                        android:text="Check"
                        android:textColor="@color/colorAccent"
                        app:strokeColor="@color/colorAccent"
                        app:cornerRadius="8dp" />
                </LinearLayout>
            </LinearLayout>
        </com.google.android.material.card.MaterialCardView>

        <!-- Info Section -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="16dp"
            app:cardBackgroundColor="@color/cardBackground"
            app:cardCornerRadius="12dp"
            app:cardElevation="2dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="About yt-dlp"
                    android:textSize="14sp"
                    android:textStyle="bold"
                    android:textColor="@color/textPrimary" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="0dp"
                    android:text="yt-dlp is a powerful download engine that supports thousands of websites including YouTube, Dailymotion, Instagram, TikTok, and many more.\n\nThe engine is bundled with the app and can be updated to the latest version for better compatibility."
                    android:textSize="12sp"
                    android:textColor="@color/textSecondary"
                    android:lineSpacingMultiplier="1.2" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="12dp"
                    android:text="Supported platforms:"
                    android:textSize="14sp"
                    android:textStyle="bold"
                    android:textColor="@color/textPrimary" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="0dp"
                    android:text="YouTube, Dailymotion, Instagram, TikTok, Twitter/X, Facebook, Vimeo, SoundCloud, Twitch, Reddit, and 1000+ more"
                    android:textSize="12sp"
                    android:textColor="@color/textSecondary" />
            </LinearLayout>
        </com.google.android.material.card.MaterialCardView>

        <!-- Uninstall Button -->
        <com.google.android.material.button.MaterialButton
            android:id="@+id/btnUninstall"
            style="@style/Widget.MaterialComponents.Button.TextButton"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:layout_marginTop="24dp"
            android:text="Uninstall Engine"
            android:textColor="#FF0000"
            android:visibility="gone"
            tools:visibility="visible" />

    </LinearLayout>
</ScrollView>
